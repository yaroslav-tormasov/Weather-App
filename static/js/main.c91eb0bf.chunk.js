(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(6),r=n.n(i),s=(n(79),n(80),n(27)),o=n(135),l=n(138),u=n(139),d=n(26),j=n(2);function m(){var e=c.a.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],i=function(){a(null)};return Object(j.jsxs)("div",{className:"Menu",children:[Object(j.jsx)(o.a,{style:{backgroundColor:"white"},size:"large",variant:"contained","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},children:"\u041c\u0435\u043d\u044e"}),Object(j.jsxs)(l.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i,children:[Object(j.jsx)(u.a,{onClick:i,title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",children:Object(j.jsx)(d.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(j.jsx)(u.a,{onClick:i,title:"\u0412\u0440\u0435\u043c\u044f",children:Object(j.jsx)(d.b,{to:"/time",children:"\u0412\u0440\u0435\u043c\u044f"})}),Object(j.jsx)(u.a,{onClick:i,title:"\u041f\u043e\u0433\u043e\u0434\u0430",children:Object(j.jsx)(d.b,{to:"/weather",children:"\u041f\u043e\u0433\u043e\u0434\u0430"})})]})]})}var h=n(7),b=n(63),_=n(64),f=n(69),p=n(67),O=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={time:(new Date).toLocaleString()},e.componentDidMount=function(){setInterval((function(){e.setState((function(){return{time:(new Date).toLocaleString()}}))}),1e3)},e}return Object(_.a)(n,[{key:"render",value:function(){return Object(j.jsx)("h2",{children:this.state.time})}}]),n}(a.Component),x=n(68),g=n(20),v=n.n(g),w=n(65),k=n.n(w),S=n.p+"static/media/cloudy-night.4a43954d.svg",N=n.p+"static/media/thunder.19ff3c30.svg",C=n.p+"static/media/drizzle.44fb8223.svg",y=n.p+"static/media/rainy.130d6250.svg",I=n.p+"static/media/snowy.dce3f5e7.svg",L=n.p+"static/media/day.c33ef664.svg",W=function(e){var t;switch(e.icon){case"Clouds":t=S;break;case"Thunderstorm":t=N;break;case"Drizzle":t=C;break;case"Rain":t=y;break;case"Snow":t=I;break;case"Clear":default:t=L}return Object(j.jsx)("div",{className:v.a.weatherBlock,children:Object(j.jsxs)("div",{className:v.a.weather,children:[e.deleteCity&&Object(j.jsx)("div",{className:v.a.delete,children:Object(j.jsxs)(o.a,{className:v.a.button,onClick:function(){return e.deleteCity(e.name)},children:["  ",Object(j.jsx)(k.a,{})," "]})}),Object(j.jsx)("div",{className:v.a.location,children:e.name}),Object(j.jsxs)("div",{className:v.a.mainInfo,children:[Object(j.jsx)("div",{className:v.a.img,children:Object(j.jsx)("img",{src:t,alt:""})}),Object(j.jsx)("div",{className:v.a.temp,children:Math.round(e.temp)+"\xb0C"})]}),Object(j.jsx)("div",{className:v.a.weatherType,children:e.weather}),Object(j.jsxs)("div",{className:v.a.feelsLike,children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.feels_like),"\xb0C"]})]})})},M=n(32),B=n.n(M),T=function(e){var t=e.isFixed?"".concat(B.a.main," ").concat(B.a.fixed):"".concat(B.a.main);return Object(j.jsxs)("div",{className:t,children:[Object(j.jsx)(W,{name:e.currentGeo.name,temp:e.currentGeo.temp,weather:e.currentGeo.weather,feels_like:e.currentGeo.feels_like,icon:e.currentGeo.icon}),e.locations.map((function(t){return Object(j.jsx)(W,{deleteCity:e.deleteCity,name:t.name,temp:t.temp,weather:t.weather,feels_like:t.feels_like,icon:t.icon})})),e.isSearching?Object(j.jsx)("button",{className:B.a.modalButton,onClick:function(){return e.setIsSearching(!1)},children:"-"}):Object(j.jsx)("button",{className:B.a.modalButton,onClick:function(){return e.setIsSearching(!0)},children:"+"})]})},D=n(66),E=n.n(D).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),G=function(e,t){return E.get("weather",{params:{lat:e,lon:t,units:"metric",lang:"ru",appId:"471fb871540b1cabfd3ed0bce031cb0d"}})},F=function(e){return E.get("weather",{params:{q:e,units:"metric",lang:"ru",appId:"471fb871540b1cabfd3ed0bce031cb0d"}})},J=n(36),A=n.n(J),z=function(e){return Object(j.jsx)("div",{className:A.a.modal,children:Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.cityName.value.trim();n&&(e.getWeatherByName(n),t.target.cityName.value="",e.setIsSearching(!1))},className:A.a.form,children:[Object(j.jsx)("input",{name:"cityName",type:"text",className:A.a.input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434..."}),Object(j.jsx)("button",{type:"submit",className:A.a.button,children:"\u041f\u043e\u0438\u0441\u043a"})]})})},P=n(51),Q=n.n(P),Z=function(){return Object(j.jsx)("div",{className:Q.a.wrapper,children:Object(j.jsxs)("div",{className:Q.a.lds_ellipsis,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},q=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({}),r=Object(s.a)(i,2),o=r[0],l=r[1],u=Object(a.useState)(!1),d=Object(s.a)(u,2),m=d[0],h=d[1],b=Object(a.useState)([]),_=Object(s.a)(b,2),f=_[0],p=_[1];Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){G(e.coords.latitude,e.coords.longitude).then((function(e){var t=e.data.main,n=t.temp,a=t.feels_like,i=e.data.name,r=e.data.weather[0],s=r.description,o=r.main;l({temp:n,feels_like:a,name:i,description:s,icon:o}),c(!1)}))}),(function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u0412\u044b \u043d\u0435 \u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0433\u0435\u043e-\u043f\u043e\u0437\u0438\u0446\u0438\u0438!")}))}),[]);var O=Object(a.useCallback)((function(e){f.some((function(t){return t.name===e}))?alert("\u0412\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434 ".concat(e)):(c(!0),F(e).then((function(t){var n=t.data.main,a=n.temp,i=n.feels_like,r=t.data.weather[0],s=r.description,o=r.main;p((function(t){return[{temp:a,feels_like:i,name:e,description:s,icon:o,id:1}].concat(Object(x.a)(t))})),c(!1)})).catch((function(){alert("\u0413\u043e\u0440\u043e\u0434 ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d :("))})))}),[f]);Object(a.useEffect)((function(){(JSON.parse(localStorage.getItem("locations"))||[]).forEach((function(e){return O(e)}))}),[O]),Object(a.useEffect)((function(){localStorage.setItem("locations",JSON.stringify(f.map((function(e){return e.name}))))}),[f]);return Object(j.jsxs)(j.Fragment,{children:[n?Object(j.jsx)(Z,{}):Object(j.jsx)(T,{currentGeo:o,setIsSearching:h,isSearching:m,locations:f,deleteCity:function(e){p((function(t){return t.filter((function(t){return t.name!==e}))}))}}),m&&Object(j.jsx)(z,{setIsSearching:h,getWeatherByName:O})]})};var R=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(h.a,{path:"/time",render:function(){return Object(j.jsx)(O,{})}}),Object(j.jsx)(h.a,{path:"/weather",render:function(){return Object(j.jsx)(q,{})}})]})};var U=function(){return Object(j.jsx)("h1",{children:"Welcome"})};var H=function(){return Object(j.jsx)(d.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h.a,{path:"/LapStore",render:function(){return Object(j.jsx)(U,{})}}),Object(j.jsx)(m,{}),Object(j.jsx)(R,{})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root")),K()},20:function(e,t,n){e.exports={weather:"Weather_weather__2ngxt",location:"Weather_location__2AZSk",mainInfo:"Weather_mainInfo__JQphI",img:"Weather_img__WqgDQ",temp:"Weather_temp__3Ps-J",weatherType:"Weather_weatherType__3l233",feelsLike:"Weather_feelsLike__3sDOx",delete:"Weather_delete__3GrqC",button:"Weather_button__9ZWrs"}},32:function(e,t,n){e.exports={main:"Main_main__3IWt4",modal:"Main_modal__3HTrL",show:"Main_show__aA_gH",modal__inner:"Main_modal__inner__1cL2T",modalButton:"Main_modalButton__1fmSg",form:"Main_form__5RCuh",input:"Main_input__2lrlc",button:"Main_button__3OpEt"}},36:function(e,t,n){e.exports={modal:"Searching_modal__24K-_",show:"Searching_show__8KPUs",modalButton:"Searching_modalButton__kxQ7E",form:"Searching_form__3XoSn",input:"Searching_input__1gAT9",button:"Searching_button__rguGY"}},51:function(e,t,n){e.exports={wrapper:"Loader_wrapper__1YbjC",lds_ellipsis:"Loader_lds_ellipsis__eLZiF","lds-ellipsis1":"Loader_lds-ellipsis1__3xE8b","lds-ellipsis2":"Loader_lds-ellipsis2__1oJUQ","lds-ellipsis3":"Loader_lds-ellipsis3__1D1ZA"}},79:function(e,t,n){},80:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.c91eb0bf.chunk.js.map